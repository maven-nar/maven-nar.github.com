<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2016-04-26 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20160426" />
    <meta http-equiv="Content-Language" content="en" />
    <title>nar-maven-plugin - NAR Plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
                      
        
<script type="text/javascript">_uacct = "UA-140879-1";
        urchinTracker();</script>
          
                  </head>
        <body class="topBarEnabled">
          
    
    
            
    
    
    <a href="http://github.com/maven-nar/nar-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                                                                <a class="brand" href="index.html"  title="NAR plugin for Maven">

                                
                                                                                                                    <img src="images/nar-banner.png" alt="NAR plugin for Maven" />
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Introduction">Introduction</a>
</li>
                  
                      <li>      <a href="philosophy.html"  title="Philosophy">Philosophy</a>
</li>
                  
                      <li>      <a href="NARPlugin.ppt"  title="Presentation (ppt)">Presentation (ppt)</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Info <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="plugin-info.html"  title="Goals">Goals</a>
</li>
                  
                      <li>      <a href="usage.html"  title="Usage">Usage</a>
</li>
                  
                      <li>      <a href="lifecycle.html"  title="Lifecycle">Lifecycle</a>
</li>
                  
                      <li>      <a href="configuration.html"  title="Configuration">Configuration</a>
</li>
                  
                      <li>      <a href="https://github.com/maven-nar/nar-maven-plugin/wiki/Frequently_Asked_Questions"  title="FAQ">FAQ</a>
</li>
                  
                      <li>      <a href="aol.html"  title="AOL Properties">AOL Properties</a>
</li>
                  
                      <li>      <a href="examples.html"  title="Examples">Examples</a>
</li>
                  
                      <li>      <a href="archetypes.html"  title="Archetypes">Archetypes</a>
</li>
                  
                      <li>      <a href="properties.html"  title="Properties">Properties</a>
</li>
                  
                      <li>      <a href="compatibility.html"  title="Compatibility">Compatibility</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer Info <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="narDependencies.html"  title="NAR Dependencies">NAR Dependencies</a>
</li>
                  
                      <li>      <a href="https://github.com/maven-nar/nar-maven-plugin/issues"  title="Bug Reports">Bug Reports</a>
</li>
                  
                      <li>      <a href="https://groups.google.com/forum/?fromgroups#!forum/maven-nar"  title="Forum">Forum</a>
</li>
                  
                      <li>      <a href="apidocs/index.html"  title="APIDocs">APIDocs</a>
</li>
                  
                      <li>      <a href="narLibrary.html"  title="NAR Library">NAR Library</a>
</li>
                  
                      <li>      <a href="cpptasks.html"  title="CPPTasks">CPPTasks</a>
</li>
                  
                      <li>      <a href="https://github.com/maven-nar/nar-maven-plugin"  title="Git Browse nar-plugin">Git Browse nar-plugin</a>
</li>
                  
                      <li>      <a href="source-repository.html"  title="Git Repository">Git Repository</a>
</li>
                          </ul>
      </li>
                      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="dependency-management.html"  title="Dependency Management">Dependency Management</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="plugin-info.html"  title="Plugin Documentation">Plugin Documentation</a>
</li>
                                  <li>      <a href="testapidocs/index.html"  title="Test JavaDocs">Test JavaDocs</a>
</li>
                                  <li>      <a href="apidocs/index.html"  title="JavaDocs">JavaDocs</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Maven Projects <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://maven.apache.org/ant-tasks/index.html"  title="Ant Tasks">Ant Tasks</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/archetype/index.html"  title="Archetype">Archetype</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/doxia/index.html"  title="Doxia">Doxia</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/jxr/index.html"  title="JXR">JXR</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/maven-1.x/index.html"  title="Maven 1.x">Maven 1.x</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/index.html"  title="Maven 2 & 3">Maven 2 & 3</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/pom/index.html"  title="Parent POMs">Parent POMs</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/plugins/index.html"  title="Plugins">Plugins</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/plugin-tools/index.html"  title="Plugin Tools">Plugin Tools</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/scm/index.html"  title="SCM">SCM</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/shared/index.html"  title="Shared Components">Shared Components</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/skins/index.html"  title="Skins">Skins</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/surefire/index.html"  title="Surefire">Surefire</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/wagon/index.html"  title="Wagon">Wagon</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">ASF <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://www.apache.org/foundation/how-it-works.html"  title="How Apache Works">How Apache Works</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/"  title="Foundation">Foundation</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/sponsorship.html"  title="Sponsoring Apache">Sponsoring Apache</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/thanks.html"  title="Thanks">Thanks</a>
</li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>$banner.name</h2>
                </div>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                <h2>$banner.name</h2>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.apache.org/" class="externalLink" title="Apache">
        Apache</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="http://maven.apache.org/index.html" class="externalLink" title="Maven">
        Maven</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="http://maven.apache.org/plugins/index.html" class="externalLink" title="Plugins">
        Plugins</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="https://maven-nar.github.com/" class="externalLink" title="NAR plugin">
        NAR plugin</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">NAR Plugin</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2016-04-26</li>
              <li id="projectVersion" class="pull-right">
                    Version: 3.4.1-SNAPSHOT
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li>
  
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="philosophy.html" title="Philosophy">
          <i class="none"></i>
        Philosophy</a>
            </li>
                
      <li>
  
                          <a href="NARPlugin.ppt" title="Presentation (ppt)">
          <i class="none"></i>
        Presentation (ppt)</a>
            </li>
                              <li class="nav-header">User Info</li>
                              
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                
      <li class="active">
  
            <a href="#"><i class="none"></i>Usage</a>
          </li>
                
      <li>
  
                          <a href="lifecycle.html" title="Lifecycle">
          <i class="none"></i>
        Lifecycle</a>
            </li>
                
      <li>
  
                          <a href="configuration.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/maven-nar/nar-maven-plugin/wiki/Frequently_Asked_Questions" class="externalLink" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                
      <li>
  
                          <a href="aol.html" title="AOL Properties">
          <i class="none"></i>
        AOL Properties</a>
            </li>
                
      <li>
  
                          <a href="examples.html" title="Examples">
          <i class="none"></i>
        Examples</a>
            </li>
                
      <li>
  
                          <a href="archetypes.html" title="Archetypes">
          <i class="none"></i>
        Archetypes</a>
            </li>
                
      <li>
  
                          <a href="properties.html" title="Properties">
          <i class="none"></i>
        Properties</a>
            </li>
                
      <li>
  
                          <a href="compatibility.html" title="Compatibility">
          <i class="none"></i>
        Compatibility</a>
            </li>
                              <li class="nav-header">Developer Info</li>
                              
      <li>
  
                          <a href="narDependencies.html" title="NAR Dependencies">
          <i class="none"></i>
        NAR Dependencies</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/maven-nar/nar-maven-plugin/issues" class="externalLink" title="Bug Reports">
          <i class="none"></i>
        Bug Reports</a>
            </li>
                
      <li>
  
                          <a href="https://groups.google.com/forum/?fromgroups#!forum/maven-nar" class="externalLink" title="Forum">
          <i class="none"></i>
        Forum</a>
            </li>
                
      <li>
  
                          <a href="apidocs/index.html" title="APIDocs">
          <i class="none"></i>
        APIDocs</a>
            </li>
                
      <li>
  
                          <a href="narLibrary.html" title="NAR Library">
          <i class="none"></i>
        NAR Library</a>
            </li>
                
      <li>
  
                          <a href="cpptasks.html" title="CPPTasks">
          <i class="none"></i>
        CPPTasks</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/maven-nar/nar-maven-plugin" class="externalLink" title="Git Browse nar-plugin">
          <i class="none"></i>
        Git Browse nar-plugin</a>
            </li>
                
      <li>
  
                          <a href="source-repository.html" title="Git Repository">
          <i class="none"></i>
        Git Repository</a>
            </li>
                                        <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                          
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-right"></i>
        Project Information</a>
                  </li>
                                                                                                                                          
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
                              <li class="nav-header">Maven Projects</li>
                              
      <li>
  
                          <a href="http://maven.apache.org/ant-tasks/index.html" class="externalLink" title="Ant Tasks">
          <i class="none"></i>
        Ant Tasks</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/archetype/index.html" class="externalLink" title="Archetype">
          <i class="none"></i>
        Archetype</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/doxia/index.html" class="externalLink" title="Doxia">
          <i class="none"></i>
        Doxia</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/jxr/index.html" class="externalLink" title="JXR">
          <i class="none"></i>
        JXR</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/maven-1.x/index.html" class="externalLink" title="Maven 1.x">
          <i class="none"></i>
        Maven 1.x</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/index.html" class="externalLink" title="Maven 2 & 3">
          <i class="none"></i>
        Maven 2 & 3</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/pom/index.html" class="externalLink" title="Parent POMs">
          <i class="none"></i>
        Parent POMs</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/plugins/index.html" class="externalLink" title="Plugins">
          <i class="none"></i>
        Plugins</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/plugin-tools/index.html" class="externalLink" title="Plugin Tools">
          <i class="none"></i>
        Plugin Tools</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/scm/index.html" class="externalLink" title="SCM">
          <i class="none"></i>
        SCM</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/shared/index.html" class="externalLink" title="Shared Components">
          <i class="none"></i>
        Shared Components</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/skins/index.html" class="externalLink" title="Skins">
          <i class="none"></i>
        Skins</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/surefire/index.html" class="externalLink" title="Surefire">
          <i class="none"></i>
        Surefire</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/wagon/index.html" class="externalLink" title="Wagon">
          <i class="none"></i>
        Wagon</a>
            </li>
                              <li class="nav-header">ASF</li>
                              
      <li>
  
                          <a href="http://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How Apache Works">
          <i class="none"></i>
        How Apache Works</a>
            </li>
                
      <li>
  
                          <a href="http://www.apache.org/foundation/" class="externalLink" title="Foundation">
          <i class="none"></i>
        Foundation</a>
            </li>
                
      <li>
  
                          <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsoring Apache">
          <i class="none"></i>
        Sponsoring Apache</a>
            </li>
                
      <li>
  
                          <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">
          <i class="none"></i>
        Thanks</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Usage<a name="Usage"></a></h2>
<p>The following fragments can be used to execute the NAR plugin to compile and link native code.</p>
<div class="section">
<h3>Create a Shared Library (but not a JNI library).<a name="Create_a_Shared_Library_but_not_a_JNI_library."></a></h3>
<div class="source">
<pre>&lt;project&gt;
  ...
  &lt;packaging&gt;nar&lt;/packaging&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;
        &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.4.1-SNAPSHOT&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre></div></div>
<div class="section">
<h3>Create a JNI Library<a name="Create_a_JNI_Library"></a></h3>
<div class="source">
<pre>&lt;project&gt;
  ...
  &lt;packaging&gt;nar&lt;/packaging&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;
        &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.4.1-SNAPSHOT&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;configuration&gt;
          &lt;libraries&gt;
            &lt;library&gt;
              &lt;type&gt;jni&lt;/type&gt;
              &lt;narSystemPackage&gt;com.mycompany.mypackage&lt;/narSystemPackage&gt;
            &lt;/library&gt;
          &lt;/libraries&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre></div></div>
<div class="section">
<h3>Create a JNI Library without linking to C++<a name="Create_a_JNI_Library_without_linking_to_C"></a></h3>
<p>It is possible to write your JNI code in C++, use the C++ compiler to compile it and then link it only with the C library (as long as you have not used any C++ library calls). Note the two tags to disable exceptions and not link with C++.</p>
<div class="source">
<pre>&lt;project&gt;
  ...
  &lt;packaging&gt;nar&lt;/packaging&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;
        &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.4.1-SNAPSHOT&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;configuration&gt;
          &lt;cpp&gt;
            &lt;exceptions&gt;false&lt;/exceptions&gt;
          &lt;/cpp&gt;
          &lt;libraries&gt;
            &lt;library&gt;
              &lt;type&gt;jni&lt;/type&gt;
              &lt;linkCPP&gt;false&lt;/linkCPP&gt;
            &lt;/library&gt;
          &lt;/libraries&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre></div></div>
<div class="section">
<h3>Create a JNI Library using SWIG generated code<a name="Create_a_JNI_Library_using_SWIG_generated_code"></a></h3>
<p>Since SWIG already generated the .h file normally generated by javah, we exclude this file from javah. We also include the compilation and linking with java. The example also shows how to configure the <a class="externalLink" href="http://duns.github.io/maven-swig-plugin/">maven-swig-plugin</a>.</p>
<div class="source">
<pre>&lt;project&gt;
  ...
  &lt;packaging&gt;nar&lt;/packaging&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-swig-plugin&lt;/artifactId&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;id&gt;swig&lt;/id&gt;
            &lt;goals&gt;
              &lt;goal&gt;generate&lt;/goal&gt;
            &lt;/goals&gt;
            &lt;configuration&gt;
              &lt;cpp&gt;true&lt;/cpp&gt;
              &lt;narSystemPackage&gt;org.domain.packagename&lt;/narSystemPackage&gt;
              &lt;source&gt;Module.swg&lt;/source&gt;
            &lt;/configuration&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
      ...
      &lt;plugin&gt;
        &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;
        &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.4.1-SNAPSHOT&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;!-- STRICTLY NO CONFIGURATION, maven-swig-plugin will configure --&gt;
      &lt;/plugin&gt;    
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre></div></div>
<div class="section">
<h3>Create a JNI library that is automatically unpacked from the .nar file using the native-lib-loader project<a name="Create_a_JNI_library_that_is_automatically_unpacked_from_the_.nar_file_using_the_native-lib-loader_project"></a></h3>
<p>The below example shows how to use <a class="externalLink" href="https://github.com/scijava/native-lib-loader">native-lib-loader</a> in the NAR plugin. When <i>narSystemPackage</i> detects <i>native-lib-loader</i> in <i>dependencies</i>, <i>narSystemPackage</i> provides the <i>native-lib-loader</i> interface to load the native libraries.</p>
<div class="source">
<pre>&lt;project&gt;
  ...
  &lt;packaging&gt;nar&lt;/packaging&gt;
  ...
  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.scijava&lt;/groupId&gt;
      &lt;artifactId&gt;native-lib-loader&lt;/artifactId&gt;
      &lt;version&gt;2.0.2&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;
        &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.4.1-SNAPSHOT&lt;/version&gt;
        &lt;extensions&gt;true&lt;/extensions&gt;
        &lt;configuration&gt;
          &lt;cpp&gt;
            &lt;exceptions&gt;false&lt;/exceptions&gt;
          &lt;/cpp&gt;
          &lt;libraries&gt;
            &lt;library&gt;
              &lt;type&gt;jni&lt;/type&gt;
&lt;!--
  When generating the NarSystem class, the NAR plugin detects the presence of
  the native-lib-loader dependency and makes full use of it to unpack and load the
  native library.
--&gt;
              &lt;narSystemPackage&gt;com.mycompany.mypackage&lt;/narSystemPackage&gt;
              &lt;linkCPP&gt;false&lt;/linkCPP&gt;
            &lt;/library&gt;
          &lt;/libraries&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre></div></div>
<div class="section">
<h3>Assemble libraries made on different platforms for distribution<a name="Assemble_libraries_made_on_different_platforms_for_distribution"></a></h3>
<p>This example shows how to download, unpack and assemble the already deployed machine dependent libraries. It also shows the setup of the standard maven-assembly-plugin to pick up the unpacked libraries.</p>
<p>Note there is no &quot;nar&quot; packaging as the normal packaging for assemblies would be &quot;pom&quot;.</p>
<p>This example assumes that the dependencies are jni libraries. In other cases the classifiers must be adapted accordingly.</p>
<div class="source">
<pre>&lt;project&gt;
  ...
  &lt;packaging&gt;pom&lt;/packaging&gt;
  ...
  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;
        &lt;!--  NOTE 2.1 fails --&gt;
        &lt;version&gt;2.0.1&lt;/version&gt;
        &lt;configuration&gt;
          &lt;descriptors&gt;
                        ...
            &lt;descriptor&gt;src/main/assembly/x86-Windows-msvc.xml&lt;/descriptor&gt;
            &lt;descriptor&gt;src/main/assembly/ppc-MacOSX-g++.xml&lt;/descriptor&gt;
            &lt;descriptor&gt;src/main/assembly/i386-Linux-g++.xml&lt;/descriptor&gt;
          &lt;/descriptors&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
          ...    
      &lt;plugin&gt;
        &lt;groupId&gt;com.github.maven-nar&lt;/groupId&gt;
        &lt;artifactId&gt;nar-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.4.1-SNAPSHOT&lt;/version&gt;
        &lt;configuration&gt;
          &lt;classifiers&gt;
            &lt;classifier&gt;x86-Windows-msvc-jni&lt;/classifier&gt;
            &lt;classifier&gt;ppc-MacOSX-g++-jni&lt;/classifier&gt;
            &lt;classifier&gt;i386-Linux-g++-jni&lt;/classifier&gt;
          &lt;/classifiers&gt;
        &lt;/configuration&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;nar-download&lt;/goal&gt;
              &lt;goal&gt;nar-unpack&lt;/goal&gt;
              &lt;goal&gt;nar-assembly&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</pre></div>
<p>The i386-Linux-g++ assembly descriptor is below:</p>
<div class="source">
<pre>&lt;assembly&gt;
  &lt;id&gt;i386-Linux-g++&lt;/id&gt;
  &lt;formats&gt;
    &lt;format&gt;tar.gz&lt;/format&gt;
  &lt;/formats&gt;
  &lt;fileSets&gt;
    &lt;fileSet&gt;
      &lt;directory&gt;target/nar/lib/i386-Linux-g++/jni&lt;/directory&gt;
      &lt;outputDirectory&gt;lib/i386-Linux-g++&lt;/outputDirectory&gt;      
      &lt;includes&gt;
        &lt;include&gt;*&lt;/include&gt;
      &lt;/includes&gt;
    &lt;/fileSet&gt;
  &lt;/fileSets&gt;
&lt;/assembly&gt;</pre></div></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2005&#x2013;2016
                        <a href="https://github.com/maven-nar">NAR Maven Plugin developers</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
