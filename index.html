<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2014-10-02 
 | Rendered using Apache Maven Fluido Skin 1.3.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20141002" />
    <meta http-equiv="Content-Language" content="en" />
    <title>nar-maven-plugin - NAR Plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.1.min.js"></script>

                          
        
<script src="http://www.google-analytics.com/urchin.js" type="text/javascript"></script>
                      
        
<script type="text/javascript">_uacct = "UA-140879-1";
        urchinTracker();</script>
          
                  </head>
        <body class="topBarEnabled">
          
    
    
            
    
    
    <a href="http://github.com/maven-nar/nar-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
                

    <div id="topbar" class="navbar navbar-fixed-top ">
      <div class="navbar-inner">
                <div class="container-fluid">
        <a data-target=".nav-collapse" data-toggle="collapse" class="btn btn-navbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </a>
                
                                                                                <a class="brand" href="index.html"  title="NAR plugin for Maven">

                                
                                                                                                                    <img src="images/nar-banner.png" alt="NAR plugin for Maven" />
                
                </a>
                    
                                <ul class="nav">
                          <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Overview <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="index.html"  title="Introduction">Introduction</a>
</li>
                  
                      <li>      <a href="philosophy.html"  title="Philosophy">Philosophy</a>
</li>
                  
                      <li>      <a href="NARPlugin.ppt"  title="Presentation (ppt)">Presentation (ppt)</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">User Info <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="plugin-info.html"  title="Goals">Goals</a>
</li>
                  
                      <li>      <a href="usage.html"  title="Usage">Usage</a>
</li>
                  
                      <li>      <a href="lifecycle.html"  title="Lifecycle">Lifecycle</a>
</li>
                  
                      <li>      <a href="configuration.html"  title="Configuration">Configuration</a>
</li>
                  
                      <li>      <a href="faq.html"  title="FAQ">FAQ</a>
</li>
                  
                      <li>      <a href="aol.html"  title="AOL Properties">AOL Properties</a>
</li>
                  
                      <li>      <a href="examples.html"  title="Examples">Examples</a>
</li>
                  
                      <li>      <a href="archetypes.html"  title="Archetypes">Archetypes</a>
</li>
                  
                      <li>      <a href="properties.html"  title="Properties">Properties</a>
</li>
                  
                      <li>      <a href="compatibility.html"  title="Compatibility">Compatibility</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developer Info <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="narDependencies.html"  title="NAR Dependencies">NAR Dependencies</a>
</li>
                  
                      <li>      <a href="nar-maven-plugin/issues"  title="Bug Reports">Bug Reports</a>
</li>
                  
                      <li>      <a href="https://groups.google.com/forum/?fromgroups#!forum/maven-nar"  title="Forum">Forum</a>
</li>
                  
                      <li>      <a href="apidocs/index.html"  title="APIDocs">APIDocs</a>
</li>
                  
                      <li>      <a href="narLibrary.html"  title="NAR Library">NAR Library</a>
</li>
                  
                      <li>      <a href="cpptasks.html"  title="CPPTasks">CPPTasks</a>
</li>
                  
                      <li>      <a href="nar-maven-plugin"  title="Git Browse nar-plugin">Git Browse nar-plugin</a>
</li>
                  
                      <li>      <a href="source-repository.html"  title="Git Repository">Git Repository</a>
</li>
                          </ul>
      </li>
                      <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Project Documentation <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li class="dropdown-submenu">
                                      <a href="project-info.html"  title="Project Information">Project Information</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="index.html"  title="About">About</a>
</li>
                                  <li>      <a href="project-summary.html"  title="Project Summary">Project Summary</a>
</li>
                                  <li>      <a href="dependency-info.html"  title="Dependency Information">Dependency Information</a>
</li>
                                  <li>      <a href="license.html"  title="Project License">Project License</a>
</li>
                                  <li>      <a href="team-list.html"  title="Project Team">Project Team</a>
</li>
                                  <li>      <a href="source-repository.html"  title="Source Repository">Source Repository</a>
</li>
                                  <li>      <a href="issue-tracking.html"  title="Issue Tracking">Issue Tracking</a>
</li>
                                  <li>      <a href="mail-lists.html"  title="Mailing Lists">Mailing Lists</a>
</li>
                                  <li>      <a href="dependency-management.html"  title="Dependency Management">Dependency Management</a>
</li>
                                  <li>      <a href="dependencies.html"  title="Dependencies">Dependencies</a>
</li>
                                  <li>      <a href="integration.html"  title="Continuous Integration">Continuous Integration</a>
</li>
                                  <li>      <a href="plugin-management.html"  title="Plugin Management">Plugin Management</a>
</li>
                                  <li>      <a href="plugins.html"  title="Project Plugins">Project Plugins</a>
</li>
                                  <li>      <a href="distribution-management.html"  title="Distribution Management">Distribution Management</a>
</li>
                              </ul>
            </li>
                  
                      <li class="dropdown-submenu">
                                      <a href="project-reports.html"  title="Project Reports">Project Reports</a>
              <ul class="dropdown-menu">
                                  <li>      <a href="plugin-info.html"  title="Plugin Documentation">Plugin Documentation</a>
</li>
                                  <li>      <a href="testapidocs/index.html"  title="Test JavaDocs">Test JavaDocs</a>
</li>
                                  <li>      <a href="apidocs/index.html"  title="JavaDocs">JavaDocs</a>
</li>
                                  <li>      <a href="xref-test/index.html"  title="Test Source Xref">Test Source Xref</a>
</li>
                                  <li>      <a href="xref/index.html"  title="Source Xref">Source Xref</a>
</li>
                              </ul>
            </li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Maven Projects <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://maven.apache.org/ant-tasks/index.html"  title="Ant Tasks">Ant Tasks</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/archetype/index.html"  title="Archetype">Archetype</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/doxia/index.html"  title="Doxia">Doxia</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/jxr/index.html"  title="JXR">JXR</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/maven-1.x/index.html"  title="Maven 1.x">Maven 1.x</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/index.html"  title="Maven 2 & 3">Maven 2 & 3</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/pom/index.html"  title="Parent POMs">Parent POMs</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/plugins/index.html"  title="Plugins">Plugins</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/plugin-tools/index.html"  title="Plugin Tools">Plugin Tools</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/scm/index.html"  title="SCM">SCM</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/shared/index.html"  title="Shared Components">Shared Components</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/skins/index.html"  title="Skins">Skins</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/surefire/index.html"  title="Surefire">Surefire</a>
</li>
                  
                      <li>      <a href="http://maven.apache.org/wagon/index.html"  title="Wagon">Wagon</a>
</li>
                          </ul>
      </li>
                <li class="dropdown">
        <a href="#" class="dropdown-toggle" data-toggle="dropdown">ASF <b class="caret"></b></a>
        <ul class="dropdown-menu">
        
                      <li>      <a href="http://www.apache.org/foundation/how-it-works.html"  title="How Apache Works">How Apache Works</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/"  title="Foundation">Foundation</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/sponsorship.html"  title="Sponsoring Apache">Sponsoring Apache</a>
</li>
                  
                      <li>      <a href="http://www.apache.org/foundation/thanks.html"  title="Thanks">Thanks</a>
</li>
                          </ul>
      </li>
                  </ul>
          
          
          
                   
                      </div>
          
        </div>
      </div>
    </div>
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>$banner.name</h2>
                </div>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                <h2>$banner.name</h2>
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.apache.org/" class="externalLink" title="Apache">
        Apache</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="http://maven.apache.org/index.html" class="externalLink" title="Maven">
        Maven</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="http://maven.apache.org/plugins/index.html" class="externalLink" title="Plugins">
        Plugins</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="https://maven-nar.github.com/" class="externalLink" title="NAR plugin">
        NAR plugin</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">NAR Plugin</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2014-10-02</li>
              <li id="projectVersion" class="pull-right">
                    Version: 3.2.0
        </li>
            
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">Overview</li>
                              
      <li class="active">
  
            <a href="#"><i class="none"></i>Introduction</a>
          </li>
                
      <li>
  
                          <a href="philosophy.html" title="Philosophy">
          <i class="none"></i>
        Philosophy</a>
            </li>
                
      <li>
  
                          <a href="NARPlugin.ppt" title="Presentation (ppt)">
          <i class="none"></i>
        Presentation (ppt)</a>
            </li>
                              <li class="nav-header">User Info</li>
                              
      <li>
  
                          <a href="plugin-info.html" title="Goals">
          <i class="none"></i>
        Goals</a>
            </li>
                
      <li>
  
                          <a href="usage.html" title="Usage">
          <i class="none"></i>
        Usage</a>
            </li>
                
      <li>
  
                          <a href="lifecycle.html" title="Lifecycle">
          <i class="none"></i>
        Lifecycle</a>
            </li>
                
      <li>
  
                          <a href="configuration.html" title="Configuration">
          <i class="none"></i>
        Configuration</a>
            </li>
                
      <li>
  
                          <a href="faq.html" title="FAQ">
          <i class="none"></i>
        FAQ</a>
            </li>
                
      <li>
  
                          <a href="aol.html" title="AOL Properties">
          <i class="none"></i>
        AOL Properties</a>
            </li>
                
      <li>
  
                          <a href="examples.html" title="Examples">
          <i class="none"></i>
        Examples</a>
            </li>
                
      <li>
  
                          <a href="archetypes.html" title="Archetypes">
          <i class="none"></i>
        Archetypes</a>
            </li>
                
      <li>
  
                          <a href="properties.html" title="Properties">
          <i class="none"></i>
        Properties</a>
            </li>
                
      <li>
  
                          <a href="compatibility.html" title="Compatibility">
          <i class="none"></i>
        Compatibility</a>
            </li>
                              <li class="nav-header">Developer Info</li>
                              
      <li>
  
                          <a href="narDependencies.html" title="NAR Dependencies">
          <i class="none"></i>
        NAR Dependencies</a>
            </li>
                
      <li>
  
                          <a href="nar-maven-plugin/issues" title="Bug Reports">
          <i class="none"></i>
        Bug Reports</a>
            </li>
                
      <li>
  
                          <a href="https://groups.google.com/forum/?fromgroups#!forum/maven-nar" class="externalLink" title="Forum">
          <i class="none"></i>
        Forum</a>
            </li>
                
      <li>
  
                          <a href="apidocs/index.html" title="APIDocs">
          <i class="none"></i>
        APIDocs</a>
            </li>
                
      <li>
  
                          <a href="narLibrary.html" title="NAR Library">
          <i class="none"></i>
        NAR Library</a>
            </li>
                
      <li>
  
                          <a href="cpptasks.html" title="CPPTasks">
          <i class="none"></i>
        CPPTasks</a>
            </li>
                
      <li>
  
                          <a href="nar-maven-plugin" title="Git Browse nar-plugin">
          <i class="none"></i>
        Git Browse nar-plugin</a>
            </li>
                
      <li>
  
                          <a href="source-repository.html" title="Git Repository">
          <i class="none"></i>
        Git Repository</a>
            </li>
                                        <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                                                    
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <i class="icon-chevron-down"></i>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li class="active">
  
            <a href="#"><i class="none"></i>About</a>
          </li>
                    
      <li>
  
                          <a href="project-summary.html" title="Project Summary">
          <i class="none"></i>
        Project Summary</a>
            </li>
                    
      <li>
  
                          <a href="dependency-info.html" title="Dependency Information">
          <i class="none"></i>
        Dependency Information</a>
            </li>
                    
      <li>
  
                          <a href="license.html" title="Project License">
          <i class="none"></i>
        Project License</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Project Team">
          <i class="none"></i>
        Project Team</a>
            </li>
                    
      <li>
  
                          <a href="source-repository.html" title="Source Repository">
          <i class="none"></i>
        Source Repository</a>
            </li>
                    
      <li>
  
                          <a href="issue-tracking.html" title="Issue Tracking">
          <i class="none"></i>
        Issue Tracking</a>
            </li>
                    
      <li>
  
                          <a href="mail-lists.html" title="Mailing Lists">
          <i class="none"></i>
        Mailing Lists</a>
            </li>
                    
      <li>
  
                          <a href="dependency-management.html" title="Dependency Management">
          <i class="none"></i>
        Dependency Management</a>
            </li>
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <i class="none"></i>
        Dependencies</a>
            </li>
                    
      <li>
  
                          <a href="integration.html" title="Continuous Integration">
          <i class="none"></i>
        Continuous Integration</a>
            </li>
                    
      <li>
  
                          <a href="plugin-management.html" title="Plugin Management">
          <i class="none"></i>
        Plugin Management</a>
            </li>
                    
      <li>
  
                          <a href="plugins.html" title="Project Plugins">
          <i class="none"></i>
        Project Plugins</a>
            </li>
                    
      <li>
  
                          <a href="distribution-management.html" title="Distribution Management">
          <i class="none"></i>
        Distribution Management</a>
            </li>
              </ul>
        </li>
                                                                                                                                          
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <i class="icon-chevron-right"></i>
        Project Reports</a>
                  </li>
                              <li class="nav-header">Maven Projects</li>
                              
      <li>
  
                          <a href="http://maven.apache.org/ant-tasks/index.html" class="externalLink" title="Ant Tasks">
          <i class="none"></i>
        Ant Tasks</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/archetype/index.html" class="externalLink" title="Archetype">
          <i class="none"></i>
        Archetype</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/doxia/index.html" class="externalLink" title="Doxia">
          <i class="none"></i>
        Doxia</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/jxr/index.html" class="externalLink" title="JXR">
          <i class="none"></i>
        JXR</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/maven-1.x/index.html" class="externalLink" title="Maven 1.x">
          <i class="none"></i>
        Maven 1.x</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/index.html" class="externalLink" title="Maven 2 & 3">
          <i class="none"></i>
        Maven 2 & 3</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/pom/index.html" class="externalLink" title="Parent POMs">
          <i class="none"></i>
        Parent POMs</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/plugins/index.html" class="externalLink" title="Plugins">
          <i class="none"></i>
        Plugins</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/plugin-tools/index.html" class="externalLink" title="Plugin Tools">
          <i class="none"></i>
        Plugin Tools</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/scm/index.html" class="externalLink" title="SCM">
          <i class="none"></i>
        SCM</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/shared/index.html" class="externalLink" title="Shared Components">
          <i class="none"></i>
        Shared Components</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/skins/index.html" class="externalLink" title="Skins">
          <i class="none"></i>
        Skins</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/surefire/index.html" class="externalLink" title="Surefire">
          <i class="none"></i>
        Surefire</a>
            </li>
                
      <li>
  
                          <a href="http://maven.apache.org/wagon/index.html" class="externalLink" title="Wagon">
          <i class="none"></i>
        Wagon</a>
            </li>
                              <li class="nav-header">ASF</li>
                              
      <li>
  
                          <a href="http://www.apache.org/foundation/how-it-works.html" class="externalLink" title="How Apache Works">
          <i class="none"></i>
        How Apache Works</a>
            </li>
                
      <li>
  
                          <a href="http://www.apache.org/foundation/" class="externalLink" title="Foundation">
          <i class="none"></i>
        Foundation</a>
            </li>
                
      <li>
  
                          <a href="http://www.apache.org/foundation/sponsorship.html" class="externalLink" title="Sponsoring Apache">
          <i class="none"></i>
        Sponsoring Apache</a>
            </li>
                
      <li>
  
                          <a href="http://www.apache.org/foundation/thanks.html" class="externalLink" title="Thanks">
          <i class="none"></i>
        Thanks</a>
            </li>
            </ul>
                
                    
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <!-- ~ --><!-- #%L --><!-- Native ARchive plugin for Maven --><!-- %% --><!-- Copyright (C) 2002 - 2014 NAR Maven Plugin developers. --><!-- %% --><!-- Licensed under the Apache License, Version 2.0 (the "License"); --><!-- you may not use this file except in compliance with the License. --><!-- You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, software --><!-- distributed under the License is distributed on an "AS IS" BASIS, --><!-- WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. --><!-- See the License for the specific language governing permissions and --><!-- limitations under the License. --><!-- #L% --><!-- ~ --><div class="section">
<h2>Introduction<a name="Introduction"></a></h2>
<p>NOTE: <b>bold</b> print is <b>NOT implemented yet</b>.</p>
<p>This plugin for Maven 2 allows you to compile native code (c++, c and fortran) on a number of different architectures (Linux, Windows, MacOSX, Solaris, ...) and with a number of different compilers/linkers (g++, Microsoft Visual C++, CC, ...) The output produced is wrapped up in Native ARchive files (.nar) some of which are machine independent (-noarch), while others are machine specific and thus depend on a combination of machine architecture(A), operating-system(O) and linker(L) identified as AOL. These nar files can be installed in the local maven repository and deployed to a standard maven (web) server, using the standard maven-install-plugin and maven-deploy-plugin.</p>
<p>Other maven projects may specify dependencies on these nar files using the standard maven dependency declaration. Nar files get downloaded, unpacked and installed in the local maven repository, just like jar files are (apart from the unpacking).</p>
<p>The NAR plugin executes the following goals, in the order below, to create and deploy nar files. The goals are part of the <tt>nar</tt> packaging/<a href="./lifecycle.html">lifecycle</a>, which inserts the nar goals into the standard lifecyle. Using nar packaging allows you to build a jar file as well as nar files. The list below shows the sequence of the NAR goals:</p>
<ol style="list-style-type: decimal">
<li><a href="#nar-validate">nar-validate</a></li>
<li><a href="#nar-download">nar-download</a></li>
<li><a href="#nar-unpack">nar-unpack</a></li>
<li><a href="#nar-gnu-configure">nar-gnu-configure</a></li>
<li><a href="#nar-system-generate">nar-system-generate</a></li>
<li><a href="#nar-resources">nar-resources</a></li>
<li><a href="#nar-gnu-resources">nar-gnu-resources</a></li>
<li><a href="#nar-javah">nar-javah</a></li>
<li><a href="#nar-gnu-make">nar-gnu-make</a></li>
<li><a href="#nar-compile">nar-compile</a></li>
<li><a href="#nar-gnu-process">nar-gnu-process</a></li>
<li><a href="#nar-testCompile">nar-testCompile</a></li>
<li><a href="#nar-test">nar-test</a></li>
<li><a href="#nar-package">nar-package</a></li>
<li><a href="#nar-integration-test">nar-integration-test</a></li>
<li><a href="#install">install (standard maven goal)</a></li>
<li><a href="#deploy">deploy (standard maven goal)</a></li></ol>
<div class="section">
<h3>Initialization<a name="Initialization"></a></h3>
<p>The NAR Plugin starts off by setting and deducing all kinds of property values for usage in the goals below. The configuration section of the NAR plugin allows one to override most of the default settings. The default settings come from the AOL properties file which allows us to specify different defaults depending on the architecture-os-linker combination, see <a href="./aol.html">AOL Properties</a>.</p>
<p>The NAR Plugin tries to deduce the &quot;Operating System&quot; and the &quot;Architecture&quot; of the machine. Both can be overridden by setting <tt>os</tt> and <tt>arch</tt> in the <a href="./configuration.html">configuration</a>.</p>
<p>The name of the linker is looked up in an architecture-os specific way, but can be overridden by setting <tt>linker.name</tt> (this means the subtag &lt;name&gt; of the &lt;linker&gt; tag in the configuration section). Now that the linker name is known all other properties are looked up with a prefix of <tt>[arch.[os.[linker.]]]</tt> from the AOL Properties file, but can be overridden in the configuration section (which can be made AOL specific by putting it inside a profile).</p></div>
<div class="section">
<h3><a name="nar-validate">nar-validate</a></h3>
<p>The NAR plugin makes sure the linker name can be found and that at least one compiler exists for this linker. It further checks the version number of the linker to see if the linker is actually found on the path. </p></div>
<div class="section">
<h3><a name="nar-download">nar-download</a></h3>
<p>Your NAR artifact(s) may be dependent on other nar artifacts. The standard maven dependency declaration in the POM is used to describe such dependencies of type &quot;nar&quot;, see <a href="./narDependencies.html"> NAR dependencies</a>. By the time this goal is running maven will have already downloaded all dependent jar and nar files some of which may include a nar.properties file. This property file contains information on what other machine dependent and machine independent nar files to download. This goal will download any further necessary nar files into the local repository.</p></div>
<div class="section">
<h3><a name="nar-unpack">nar-unpack</a></h3>
<p>Since a nar file is of no use to any native compilation process, the nar-unpack goal unpacks the nar into the &quot;nar/dependencies&quot; subdirectory of the target directory.</p></div>
<div class="section">
<h3><a name="nar-gnu-configure">nar-gnu-configure</a> </h3>
<p>If you store files in the <i>gnuSourceDirectory</i> (src/gnu) the NAR plugin will try to run autogen and configure over them with a target set to <i>gnuTargetDirectory</i>. This process can be disabled by setting <i>gnuAutogenSkip</i> and or <i>gnuConfigureSkip</i>. On Windows, this process will only run if <i>gnuUseOnWindows</i> is set. The generated and configured files are all stored in <i>gnuTargetDirectory</i> and will be handled in subsequent NAR goals. </p></div>
<div class="section">
<h3><a name="nar-system-generate">nar-system-generate</a></h3>
<p>This goal generates a NarSystem class if necessary. This class contains helper methods for your code to handle things at run-time. The static method &quot;loadLibrary()&quot; is currently the only method generated and will load your JNI library with name &quot;artifactId-version&quot;. This goal is only executed if you produce a JNI library and you specify a <i>narSystemPackage</i> as subtag of <i>library</i>. The NarSystem class will then be created in this package.</p></div>
<div class="section">
<h3><a name="nar-resources">nar-resources</a></h3>
<p>This is an optional goal. It will take any resources in src/nar/resources and copy them into specific areas under target/nar. Resources may include pre-compiled/linked libraries and other shareable items. This goal can be used to create a nar library from a distribution that comes with compiled shareable libraries.</p></div>
<div class="section">
<h3><a name="nar-gnu-resources">nar-gnu-resources</a></h3>
<p>Copies the <i>resourceIncludeDir</i> (include) from the <i>gunSourceDirectory</i> (src/gnu) into the noarch area in the target directory.</p></div>
<div class="section">
<h3><a name="nar-javah">nar-javah</a></h3>
<p>This goal will run the javah tool on any class file in the <tt>javah.classDirectory</tt> directory that has native methods in it. The actual class files are inspected (rather than their sources). The javah tool is picked up from the java installation and is run with a classpath of the <tt>javah.classDirectory</tt> and all depencies' classpaths, unless you specify a list in <tt>javah.classPaths</tt>. Additional classnames like java.sql.Types, which have no actual *.class file in the classDirectory, can be added using the <tt>javah.extraClasses</tt> list. You can also set a boot classpath using <tt>javah.bootClassPaths</tt>.</p>
<p>This goal has no effect if there are no java sources, or if none of the java classes contain a native method.</p></div>
<div class="section">
<h3><a name="nar-gnu-make">nar-gnu-make</a> </h3>
<p>Runs &quot;make&quot; followed by &quot;make install&quot; to put the final files in position for copying to the NAR target areas by the nar-gnu-process goal.</p></div>
<div class="section">
<h3><a name="nar-compile">nar-compile</a></h3>
<p>This goal will compile the native source code (c, c++ or fortran) and archive it into a shared library. You can also produce a jni or a static library by setting <tt>library.type</tt>. To handle the variety of compilers and linkers, the NAR plugin uses a derivative of the cpptasks from the ant-contrib project, with some minor improvements and additions of compilers. Most of the settings for cpptasks, such as compiler, linker, options and include dirs are available through the NAR plugin, see <a href="./configuration.html">configuration</a>.</p>
<p>The NAR plugin searches the directory structure under COMPILER.sourceDirectory, which defaults to src/main. The standard way to separate your sources for different languages would be src/main/c, src/main/c++ and src/main/fortran, but any file under src/main is searched for.</p>
<p>The nar plugin will automatically select the correct compiler (c, c++ or fortran) based on the type of source, as specified in the patterns in <tt>AOL.c.includes</tt>, <tt>AOL.cpp.includes</tt> and <tt>AOL.fortran.includes</tt>, where AOL is a dotted qualifier of the architecture, os and linker (<tt>x86.Windows.msvc</tt> for example).</p>
<p>Include paths are added in this order from:</p>
<ul>
<li>any directories set in <tt>COMPILER.includePaths</tt>, where COMPILER is c, cpp or fortran.</li>
<li>the <tt>javah.jniDirectory</tt>.</li>
<li>if <tt>java.include</tt> is true or if <tt>javah.jniDirectory</tt> exists we add one of the following, relative to the java home directory:
<ul>
<li><tt>java.includePaths</tt> if set,</li>
<li>otherwise the <tt>AOL.java.include</tt> property from the AOL properties.</li></ul></li>
<li>the header files of any of the nar type dependencies, unless it is a jni library.</li>
<li>any system directories set in <tt>COMPILER.sysincludepath</tt>, where COMPILER is c, cpp or fortran.</li></ul>
<p>The static or dynamic library is linked against:</p>
<ul>
<li>the list of libraries set in <tt>linker.libs</tt>. Using nar dependencies is preferred though.</li>
<li>the libraries of any of the nar type dependencies.</li>
<li>the java virtual machine if you set <tt>java.link</tt> to true. The location of the runtime can be overridden in <tt>java.runtimeDirectory</tt>.</li></ul>
<p>All include files from <tt>COMPILER.includePaths</tt> are copied to be included in the noarch nar file.</p>
<p><b> TBD If you set maven.nar.includefilesonly to true the compilation step will be skipped. This flag can be used if you want to distribute a library that only contains pure abstract classes in include files.</b></p></div>
<div class="section">
<h3><a name="nar-gnu-process">nar-gnu-process</a> </h3>
<p>Copies the gnu &quot;install&quot;-ed area into the NAR target area for testing and packing. </p></div>
<div class="section">
<h3><a name="nar-testCompile">nar-testCompile</a></h3>
<p>This goal will compile the native test source code (c, c++ or fortran) and create executables from it. To handle the variety of compilers and linkers, the NAR plugin uses a derivative of the cpptasks from the ant-contrib project, with some minor improvements and additions of compilers. Most of the settings for cpptasks, such as compiler, linker, options and include dirs are available through the NAR plugin, see <a href="./configuration.html">configuration</a>.</p>
<p>The NAR plugin searches the directory structure under COMPILER.sourceDirectory, which defaults to src/test. The standard way to separate your sources for different languages would be src/test/c, src/test/c++ and src/test/fortran, but any file under src/test is searched for.</p>
<p>The compiler will automatically select the correct compiler (c, c++ or fortran) based on the type of sources, as specified in the patterns in <tt>AOL.c.includes</tt>, <tt>AOL.nar.src.includes</tt> and <tt>AOL.fortran.includes</tt>, where AOL is a dotted qualifier of the architecture, os and linker (<tt>x86.Windows.msvc</tt> for example).</p>
<p><b>TBD If you set maven.nar.includefilesonly to true the compile-tests goal will be skipped.</b></p></div>
<div class="section">
<h3><a name="nar-test">nar-test</a></h3>
<p>Runs any native tests as well as any executables that have been produced.</p></div>
<div class="section">
<h3><a name="nar-package">nar-package</a> </h3>
<p>This goal creates the artifact jar/nar file(s). The jar file is created by the standard package goal. The following jar and nar files are created:</p>
<ul>
<li>&lt;Artifact&gt;-&lt;version&gt;.jar, containing a property file describing the behaviour of the library and other nar files available. For a description see <a href="./narDependencies.html"> NAR dependencies</a>. This jar file is renamed to nar when installed or deployed.</li>
<li>&lt;Artifact&gt;-&lt;version&gt;-noarch.nar, a compressed jar file containing non machine specific parts of the distribution, such as the include directories.</li>
<li>&lt;Artifact&gt;-&lt;version&gt;-&lt;aol&gt;-&lt;type&gt;.nar, a compressed jar file containing machine specific parts of the distribution, such as the libraries. This file is specific to a particular Architecture-OS-Linker (AOL) combination <b>TBD and is not generated if maven.nar.includefilesonly is set</b>. Type specifies if this nar is either of type shared, static or jni.</li></ul></div>
<div class="section">
<h3><a name="nar-integration-test">nar-integration-test</a></h3>
<p>This goal runs tests against the packaged jar and nar files. Currently this is useful only to test a jni library. The jni library is added to the java.library.path and the tests are forked to pick up this path.</p>
<p>To use this goal you need to put the test sources in the regular test directories but disable the running of the tests by the maven-surefire-plugin.</p>
<p><b>TBD integration tests for other types of libraries than jni</b></p></div>
<div class="section">
<h3><a name="install">install</a> </h3>
<p>This goal installs the produced artifacts in your local repository. The unpacking is done in the unpack goal of a dependent artifact upon first usage.</p></div>
<div class="section">
<h3><a name="deploy">deploy</a></h3>
<p>This goal deploys the produced artifacts on a maven (web) server. The jar and nar files will always be in their packaged form on the server (they will never be unpacked there by maven).</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                              <p >Copyright &copy;                    2005&#x2013;2014
                        <a href="https://github.com/maven-nar">NAR Maven Plugin developers</a>.
            All rights reserved.      
                    
      </p>
        </div>

        
        
                </div>
    </footer>
        </body>
</html>
